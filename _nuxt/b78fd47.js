(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{295:function(t,e,r){"use strict";r.r(e);var o=r(21),n=(r(58),r(218),r(17),r(34),r(41),{layout:"full-blue",data:function(){return{imgPreview:this.$auth.loggedIn&&""!=this.$auth.user.avatar?this.$auth.user.avatar:"/images/avatar.jpg"}},methods:{triggerProfileUpload:function(){this.$refs.profileUpload.click()},prepareProfileUpload:function(t){var image=t.target.files[0];this.imgPreview=URL.createObjectURL(image)},updateAvatar:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var form,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(form=new FormData).append("avatar",t.$refs.profileUpload.files[0]),r={"Content-Type":"multipart/form-data"},e.prev=3,e.next=6,t.$axios.post("/api/v1/update-avatar",form,r);case 6:return e.next=8,t.$auth.fetchUser();case 8:t.$router.push("/dashboard/projects"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}}),c=r(24),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-auto text-center",staticStyle:{width:"400px",height:"fit-content",position:"relative","z-index":"2",color:"var(--cl-white)"}},[r("div",{staticClass:"cg-highlight ic-edit mod-circle mb-4",on:{click:t.triggerProfileUpload}},[r("img",{staticClass:"cg-ava mod-md mod-bordered mod-o cl-primary",attrs:{src:t.imgPreview}})]),t._v(" "),r("input",{ref:"profileUpload",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.prepareProfileUpload}}),t._v(" "),r("div",{staticStyle:{"font-size":"36px","font-weight":"500"}},[t._v("Hi, "+t._s(t.$auth.user.name))]),t._v(" "),r("div",{staticClass:"mb-4",staticStyle:{"font-size":"20px","font-weight":"300"}},[t._v("Please upload you profile picture")]),t._v(" "),r("button",{staticClass:"cg-btn mod-form cl-secondary mb-2",on:{click:t.updateAvatar}},[t._v("Sign Up Now")]),t._v(" "),r("NuxtLink",{staticClass:"cg-btn mod-form mod-outline cl-hollow",attrs:{to:"/dashboard/projects"}},[t._v("Skip")])],1)}),[],!1,null,null,null);e.default=component.exports}}]);